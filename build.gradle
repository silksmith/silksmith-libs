buildscript {

	ext {
		silksmithVersion = "0.5.0"
	}

    repositories {
        mavenLocal()
        jcenter()
        mavenCentral()
         maven {
              url "https://plugins.gradle.org/m2/"
            }

    }
    dependencies {
	    classpath "com.jfrog.bintray.gradle:gradle-bintray-plugin:1.1"
         classpath "gradle.plugin.io.silksmith:silksmith:$silksmithVersion"
    }
}

apply plugin: "eclipse"

repositories {
    mavenCentral()
    mavenLocal()
}

ext{
   angularBaseVersionMinor = "1.4"
   angularVersion = "${angularBaseVersionMinor}.3"
   closureCompilerGithubRepo = "https://github.com/google/closure-compiler.git"
   closureCompilerGithubCommit = "ba7d12ac02937334af6dbbf2e91a81b5ddfe95e6"
   closureCompilerGitWorkingCopy = file("$project.buildDir/closureCompiler")

   closureLibraryGithubRepo = "https://github.com/google/closure-library.git"
   closureLibraryGithubCommit = "20be95baf89cb36dfd55c708d69a375e2326123a"
   closureLibraryGitWorkingCopy = file("$project.buildDir/closureLibrary")
}
configure(subprojects - project(":angular-i18n")){

    repositories {
        mavenCentral()
        mavenLocal()
    }

    apply plugin: "io.silksmith.plugin"

	apply plugin: 'maven-publish'
	apply plugin: "com.jfrog.bintray"
	publishing {
		publications {
			maven(MavenPublication) {
				groupId 'io.silksmith.libs'
				from components.silk
			}
         }
	}



	bintray {

		user = bintray_net_user
		key = bintray_net_key

		publications = ["maven"]
		publish = true
		pkg {
			repo = 'silk'
			userOrg = "silksmith-io"
			name = project.name
			websiteUrl = 'https://github.com/silksmith/silksmith-libs'
			issueTrackerUrl = 'https://github.com/silksmith/silksmith-libs/issues'
			vcsUrl = 'https://github.com/silksmith/silksmith-libs.git'
			licenses = ['MIT']
			publicDownloadNumbers = true

		}

	}
}
task wrapper(type: Wrapper) { gradleVersion = "2.4" }
