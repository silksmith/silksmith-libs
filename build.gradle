buildscript {

	ext {
		silksmithVersion = "1.0.0-SNAPSHOT"
	}

    repositories {
        mavenLocal()
        jcenter()
        mavenCentral()
    }
    dependencies {
	    classpath "com.jfrog.bintray.gradle:gradle-bintray-plugin:1.0"
        classpath "io.silksmith:silksmith:$silksmithVersion"
    }
}

apply plugin: "eclipse"

repositories {
    mavenCentral()
    mavenLocal()
}


subprojects {

    repositories {
        mavenCentral()
        mavenLocal()
    }

    apply plugin: "silksmith"

	apply plugin: 'maven-publish'
	apply plugin: "com.jfrog.bintray"
	publishing {
		publications {
			maven(MavenPublication) {
				groupId 'io.silksmith.libs'
				from components.silk
			}
         }
	}



	bintray {

		user = bintray_net_user
		key = bintray_net_key

		publications = ["maven"]
		pkg {
			repo = 'silk'
			userOrg = "silksmith-io"
			name = project.name
			websiteUrl = 'https://github.com/silksmith/silksmith-libs'
			issueTrackerUrl = 'https://github.com/silksmith/silksmith-libs/issues'
			vcsUrl = 'https://github.com/silksmith/silksmith-libs.git'
			licenses = ['MIT']
			publicDownloadNumbers = true

		}

	}
}
task wrapper(type: Wrapper) { gradleVersion = "2.2.1" }
