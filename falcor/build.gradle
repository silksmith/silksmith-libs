def baseVersion = "0.1.13"
version = "$baseVersion+smith."+new Date().format("yyyyMMdd")

def repo = "https://github.com/Netflix/falcor.git"
task github(type: io.silksmith.task.GitFiles) {
    url = repo
    checkout = "v$baseVersion"

}

silksmith.source {
    main {

        statics {

            srcDir "$github.outputs.files.singleFile/dist"
            include "falcor.browser.min.js"


        }
    }
}
pack {
    manifest {
        statics {
            "falcor.browser.min.js" {
                js()
            }

        }
        usage {
            common {
                files = ["falcor.browser.min.js"]
            }
        }
    }
}
pack.staticsLicense {
    from "$github.outputs.files.singleFile/LICENSE.txt"
}
pack.manifest {

    metainfo {
        statics {
            origin repo
            license = 'Apache-2.0'

        }

    }
}
ext {
 licenses = ['MIT','Apache-2.0']
}
pack.dependsOn github

